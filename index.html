<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×¡×¤×¨ ×”××ª×›×•× ×™× ×©×œ×™</title>
    <style>
        body { font-family: sans-serif; background: #f4f4f4; direction: rtl; padding: 20px; text-align: center; }
        .screen { display: none; max-width: 400px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .active { display: block; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        button { width: 100%; padding: 12px; margin: 10px 0; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; font-size: 16px; }
        .login-btn { background: #f39c12; color: white; }
        .register-btn { background: #bdc3c7; color: #2c3e50; }
        .recipe-btn { background: #27ae60; color: white; }
    </style>
</head>
<body>

<div id="loginScreen" class="screen active">
    <h1>ğŸ³ ×”×©×£ ×”×§×•×œ×™</h1>
    <p>×”×–×™× ×• ×©× ×•×¡×™×¡××”:</p>
    <input type="text" id="userBox" placeholder="×©× ××©×ª××©">
    <input type="password" id="passBox" placeholder="×¡×™×¡××”">
    
    <button onclick="handleLogin()" class="login-btn">×›× ×™×¡×” ×œ××©×ª××© ×§×™×™×</button>
    <button onclick="handleRegister()" class="register-btn">×”×¨×©××” (××©×ª××© ×—×“×©)</button>
</div>

<div id="mainScreen" class="screen">
    <h2 id="helloMsg">×©×œ×•×!</h2>
    <button onclick="showScreen('addScreen')" class="recipe-btn">â• ×”×•×¡×¤×ª ××ª×›×•×Ÿ ×—×“×©</button>
    <div id="myRecipes"></div>
    <button onclick="location.reload()" style="background:none; color:red; text-decoration:underline;">×”×ª× ×ª×§×•×ª</button>
</div>

<div id="addScreen" class="screen">
    <h2>××ª×›×•×Ÿ ×—×“×©</h2>
    <input type="text" id="recipeTitle" placeholder="×©× ×”××ª×›×•×Ÿ">
    <button onclick="saveRecipe()" class="recipe-btn">×©××•×¨ ××ª×›×•×Ÿ</button>
    <button onclick="showScreen('mainScreen')" class="register-btn">×‘×™×˜×•×œ</button>
</div>

<script>
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    // ×¤×•× ×§×¦×™×™×ª ×”×¨×©××” - ×™×•×¦×¨×ª ××ª ×”××©×ª××©
    function handleRegister() {
        const u = document.getElementById('userBox').value.trim();
        const p = document.getElementById('passBox').value;
        if(!u || !p) return alert("× × ×œ××œ× ×©× ×•×¡×™×¡××”");

        let users = JSON.parse(localStorage.getItem('myAppUsers')) || [];
        if(users.find(x => x.name === u)) return alert("×”×©× ×”×–×” ×›×‘×¨ ×§×™×™×!");

        users.push({name: u, pass: p});
        localStorage.setItem('myAppUsers', JSON.stringify(users));
        alert("× ×¨×©××ª ×‘×”×¦×œ×—×”! ×¢×›×©×™×• ××¤×©×¨ ×œ×œ×—×•×¥ ×¢×œ ×›×¤×ª×•×¨ ×”×›× ×™×¡×”");
    }

    // ×¤×•× ×§×¦×™×™×ª ×›× ×™×¡×” - ×‘×•×“×§×ª ×× ××ª ×¨×©×•××”
    function handleLogin() {
        const u = document.getElementById('userBox').value.trim();
        const p = document.getElementById('passBox').value;
        let users = JSON.parse(localStorage.getItem('myAppUsers')) || [];
        
        let found = users.find(x => x.name === u && x.pass === p);
        if(found) {
            document.getElementById('helloMsg').innerText = "×©×œ×•×, " + u;
            showScreen('mainScreen');
        } else {
            alert("×©× ××©×ª××© ××• ×¡×™×¡××” ×œ× × ×›×•× ×™×. ××•×œ×™ ×¦×¨×™×š ×œ×”×™×¨×©×?");
        }
    }

    function saveRecipe() {
        alert("×”××ª×›×•×Ÿ × ×©××¨!");
        showScreen('mainScreen');
    }
</script>

</body>
</html>
